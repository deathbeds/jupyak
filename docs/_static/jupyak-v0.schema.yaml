$schema: http://json-schema.org/draft-07/schema#
title: Yak
description: A description of a jupyak pull request
properties:
  env:
    $ref: '#/$defs/CondaEnv'
    title: env
    description: the conda environment to manage during the build process
  lite:
    $ref: '#/$defs/LiteOptions'
    title: lite
    description: JupyterLite-specific configuration for contents, building, and running
  repos:
    type: object
    title: repos
    description:
      git-hosted projects to clone, build, and use to deploy a JupyterLite site
    additionalProperties:
      anyOf:
        - $ref: '#/$defs/Repo'
          type: object
          title: custom repo
        - title: comm
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: comm
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/ipython/comm
            lite:
              wheel: true
            name: comm
            py:
              pyproject_tomls:
                - pyproject.toml
        - title: ipykernel
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: ipykernel
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/ipython/ipykernel
            name: ipykernel
            py:
              dependencies:
                - comm
                - jupyter_client
                - ipython
                - jupyter_core
                - traitlets
              pyproject_tomls:
                - pyproject.toml
        - title: ipython
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: ipython
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/ipython/ipython
            lite:
              wheel: true
            name: ipython
            py:
              dependencies:
                - traitlets
              pyproject_tomls:
                - pyproject.toml
        - title: ipywidgets
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: ipywidgets
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter-widgets/ipywidgets
            js:
              dependencies:
                - lumino
                - jupyterlab
              dist_exclude_patterns:
                - /jupyterlab_widgets
                - /example
              tasks:
                ./packages/base:
                  - actions:
                      - - yarn
                        - build:src
                    file_dep:
                      - ./packages/base/src/**/*.ts
                    name: build
                    targets:
                      - ./packages/base/tsconfig.tsbuildinfo
                ./packages/base-manager:
                  - actions:
                      - - yarn
                        - build:src
                    file_dep:
                      - ./packages/base-manager/src/**/*.ts
                      - ./packages/controls/tsconfig.tsbuildinfo
                    name: build
                    targets:
                      - ./packages/base-manager/tsconfig.tsbuildinfo
                ./packages/controls:
                  - actions:
                      - - yarn
                        - build:src
                      - - yarn
                        - build:css
                    file_dep:
                      - ./packages/controls/src/**/*.ts
                      - ./packages/base/tsconfig.tsbuildinfo
                      - ./packages/controls/css/**/*.less
                    name: build
                    targets:
                      - ./packages/controls/tsconfig.tsbuildinfo
                      - glob_neighbor:
                          - packages/controls/css/*.less
                          - ../{stem}.css
                ./packages/html-manager:
                  - actions:
                      - - yarn
                        - build:src
                    file_dep:
                      - ./packages/html-manager/src/**/*.ts
                      - ./packages/base-manager/tsconfig.tsbuildinfo
                    name: build
                    targets:
                      - ./packages/html-manager/tsconfig.tsbuildinfo
                ./packages/output:
                  - actions:
                      - - yarn
                        - build:src
                    file_dep:
                      - ./packages/output/src/**/*.ts
                      - ./packages/html-manager/tsconfig.tsbuildinfo
                    name: build
                    targets:
                      - ./packages/output/tsconfig.tsbuildinfo
                ./python/jupyterlab_widgets:
                  - actions:
                      - - yarn
                        - build:lib
                    file_dep:
                      - ./packages/base/tsconfig.tsbuildinfo
                      - ./packages/controls/tsconfig.tsbuildinfo
                      - ./packages/base-manager/tsconfig.tsbuildinfo
                      - ./packages/html-manager/tsconfig.tsbuildinfo
                      - ./packages/output/tsconfig.tsbuildinfo
                    name: build
                    targets:
                      - python/jupyterlab_widgets/tsconfig.tsbuildinfo
                      - python/jupyterlab_widgets/lib/index.js
            lite:
              skip_wheel_patterns:
                - widgetsnbextension
              wheel: true
              wheel_file_dep:
                jupyterlab_widgets:
                  - python/jupyterlab_widgets/labextension/package.json
            name: ipywidgets
            py:
              dependencies:
                - jupyterlab
                - ipython
                - comm
                - traitlets
              lab_extensions:
                ./python/jupyterlab_widgets/:
                  file_dep:
                    - packages/*/tsconfig.tsbuildinfo
                    - python/jupyterlab_widgets/lib/index.js
                  targets:
                    - python/jupyterlab_widgets/labextension/package.json
              pyproject_tomls:
                - python/ipywidgets/pyproject.toml
                - python/jupyterlab_widgets/pyproject.toml
                - python/widgetsnbextension/pyproject.toml
        - title: jupyter_client
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyter_client
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter/jupyter_client
            name: jupyter_client
            py:
              dependencies:
                - jupyter_core
              pyproject_tomls:
                - pyproject.toml
        - title: jupyter_core
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyter_core
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter/jupyter_core
            lite:
              wheel: true
            name: jupyter_core
            py:
              dependencies:
                - traitlets
              pyproject_tomls:
                - pyproject.toml
        - title: jupyter_events
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyter_events
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter/jupyter_events
            name: jupyter_events
            py:
              dependencies:
                - traitlets
              pyproject_tomls:
                - pyproject.toml
        - title: jupyter_server
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyter_server
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter-server/jupyter_server
            name: jupyter_server
            py:
              dependencies:
                - nbconvert
                - traitlets
                - jupyter_core
                - jupyter_client
                - jupyter_events
                - jupyter_server_terminals
              pyproject_tomls:
                - pyproject.toml
        - title: jupyter_server_terminals
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyter_server_terminals
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter-server/jupyter_server_terminals
            name: jupyter_server_terminals
            py:
              pyproject_tomls:
                - pyproject.toml
        - title: jupyterlab
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyterlab
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyterlab/jupyterlab
            js:
              dependencies:
                - lumino
              dist_exclude_patterns:
                - /galata
                - /examples
                - /dev_mode
                - /metapackage
                - /mock
              tasks:
                ./:
                  - actions:
                      - - yarn
                        - build:utils
                    file_dep:
                      - buildutils/src/**/*.ts
                      - buildutils/package.json
                    name: buildutils
                    targets:
                      - buildutils/tsconfig.tsbuildinfo
                  - actions:
                      - - yarn
                        - build:builder
                    file_dep:
                      - builder/src/**/*.ts
                      - builder/package.json
                    name: builder
                    targets:
                      - builder/tsconfig.tsbuildinfo
                      - builder/lib/build-labextension.js
                ./dev_mode/:
                  - actions:
                      - - yarn
                        - build:prod
                    file_dep:
                      - builder/tsconfig.tsbuildinfo
                      - buildutils/tsconfig.tsbuildinfo
                      - packages/metapackage/tsconfig.tsbuildinfo
                      - packages/*/schema/*.json
                      - packages/*/style/**/*.css
                      - packages/*/style/**/*.svg
                      - packages/*/style/**/*.js
                    name: build:prod
                    targets:
                      - dev_mode/static/package.json
                ./packages/metapackage/:
                  - actions:
                      - - yarn
                        - build
                    file_dep:
                      - ../lumino/packages/*/tsconfig.tsbuildinfo
                      - packages/*/src/**/*.ts
                      - packages/*/src/**/*.tsx
                    name: build
                    targets:
                      - packages/metapackage/tsconfig.tsbuildinfo
            name: jupyterlab
            py:
              dependencies:
                - jupyterlab_server
                - ipykernel
                - notebook_shim
                - jupyter_lsp
                - jupyterlab_pygments
              file_dep:
                - dev_mode/static/package.json
              pyproject_tomls:
                - pyproject.toml
        - title: jupyterlab_lsp
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyterlab_lsp
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter-lsp/jupyterlab-lsp
            name: jupyterlab_lsp
            py:
              dependencies:
                - jupyter_server
              setup_cfgs:
                - python_packages/jupyter_lsp/setup.cfg
        - title: jupyterlab_pygments
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyterlab_pygments
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyterlab/jupyterlab_pygments
            js:
              dependencies:
                - lumino
                - jupyterlab
              tasks:
                .:
                  - actions:
                      - - yarn
                        - build:css
                    file_dep:
                      - jupyterlab_pygments/style.py
                    name: build:css
                    targets:
                      - style/base.css
                  - actions:
                      - - yarn
                        - build:lib
                        - --skipLibCheck
                    file_dep:
                      - src/**/*.ts
                    name: build:lib
                    targets:
                      - tsconfig.tsbuildinfo
            lite:
              wheel: true
              wheel_file_dep:
                jupyterlab_pygments:
                  - jupyterlab_pygments/labextension/package.json
            name: jupyterlab_pygments
            py:
              lab_extensions:
                .:
                  file_dep:
                    - tsconfig.tsbuildinfo
                    - style/base.css
                  targets:
                    - jupyterlab_pygments/labextension/package.json
              pyproject_tomls:
                - pyproject.toml
        - title: jupyterlab_server
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyterlab_server
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyterlab/jupyterlab_server
            name: jupyterlab_server
            py:
              dependencies:
                - jupyter_server
              pyproject_tomls:
                - pyproject.toml
        - title: jupyterlite
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyterlite
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyterlite/jupyterlite
            js:
              dependencies:
                - jupyterlab
                - notebook
                - lumino
              dist_exclude_patterns:
                - /app
              link_exclude_patterns:
                - ^@jupyterlab/(celltags-extension|debugger(-extension)?|extensionmanager(-extension)?|hub-extension|mermaid-extension|nbconvert-css|pluginmanager-extension|terminal(-extension)?|template)$
                - ^@jupyter-notebook/(documentsearch-extension|lab-extension|terminal-extension)$
              tasks:
                ./:
                  - actions:
                      - - doit
                        - build:py:jupyterlite-core:pre:app
                    name: build
                    targets:
                      - ./py/jupyterlite-javascript-kernel/tsconfig.tsbuildinfo
                      - app/build/third-party-licenses.json
            lite:
              needs_pth:
                - jupyterlite_core
              wheel: false
            name: jupyterlite
            py:
              dependencies:
                - jupyterlab
                - notebook
                - jupyter_server
                - jupyter_core
                - traitlets
              lab_extensions:
                ././py/jupyterlite-javascript-kernel:
                  file_dep:
                    - ./py/jupyterlite-javascript-kernel/tsconfig.tsbuildinfo
                  targets:
                    - ./py/jupyterlite-javascript-kernel/jupyterlite_javascript_kernel/labextension/package.json
              pyproject_tomls:
                - ./py/jupyterlite/pyproject.toml
                - ./py/jupyterlite-core/pyproject.toml
                - ./py/jupyterlite-javascript-kernel/pyproject.toml
        - title: jupyterlite_pyodide_kernel
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: jupyterlite_pyodide_kernel
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyterlite/pyodide-kernel
            js:
              dependencies:
                - lumino
                - jupyterlab
                - jupyterlite
              tasks:
                ./packages/pyodide-kernel-extension/:
                  - actions:
                      - - yarn
                        - build:lib
                    file_dep:
                      - packages/pyodide-kernel-extension/src/**/*.ts
                      - packages/pyodide-kernel/tsconfig.tsbuildinfo
                    name: build:lib
                    targets:
                      - packages/pyodide-kernel-extension/tsconfig.tsbuildinfo
                ./packages/pyodide-kernel/:
                  - actions:
                      - - yarn
                        - build:py
                    file_dep:
                      - packages/pyodide-kernel/py/**/pyproject.toml
                      - packages/pyodide-kernel/py/**/*.py
                    name: build:py:wheels
                    needs_pth:
                      - jupyterlite_core
                      - jupyterlite_pyodide_kernel
                    targets:
                      - packages/pyodide-kernel/pypi/all.json
                  - actions:
                      - - yarn
                        - build:prod
                    file_dep:
                      - packages/pyodide-kernel/pypi/all.json
                      - packages/pyodide-kernel/src/**/*.ts
                    name: build:js
                    targets:
                      - packages/pyodide-kernel/tsconfig.tsbuildinfo
            lite:
              needs_pth:
                - jupyterlite_pyodide_kernel
              wheel: false
            name: jupyterlite_pyodide_kernel
            py:
              dependencies:
                - jupyterlab
                - jupyterlite
              lab_extensions:
                ./packages/pyodide-kernel-extension/:
                  file_dep:
                    - packages/pyodide-kernel/pypi/all.json
                    - packages/pyodide-kernel-extension/tsconfig.tsbuildinfo
                  targets:
                    - jupyterlite_pyodide_kernel/labextension/package.json
              pyproject_tomls:
                - pyproject.toml
        - title: lumino
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: lumino
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyterlab/lumino
            js:
              dist_exclude_patterns:
                - /buildutils
                - /default-theme
                - /example
              install_exclude_resolutions:
                - '@jupyterlab/buildutils'
              tasks:
                ./:
                  - actions:
                      - - yarn
                        - build
                    file_dep:
                      - packages/*/src/**/*.ts
                      - packages/*/tsconfig.json
                    name: build
                    targets:
                      - glob_neighbor:
                          - packages/*/tsconfig.json
                          - ../tsconfig.tsbuildinfo
            name: lumino
        - title: nbclient
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: nbclient
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter/nbclient
            name: nbclient
            py:
              dependencies:
                - jupyter_core
                - jupyter_client
                - nbformat
                - traitlets
              pyproject_tomls:
                - pyproject.toml
        - title: nbconvert
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: nbconvert
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter/nbconvert
            name: nbconvert
            py:
              dependencies:
                - jupyter_core
                - nbformat
                - nbclient
              pyproject_tomls:
                - pyproject.toml
        - title: nbformat
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: nbformat
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter/nbformat
            name: nbformat
            py:
              dependencies:
                - jupyter_core
                - traitlets
              pyproject_tomls:
                - pyproject.toml
        - title: notebook
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: notebook
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter/notebook
            js:
              dependencies:
                - lumino
                - jupyterlab
              dist_exclude_patterns:
                - /_metapackage
                - /app
                - /buildutils
              link_exclude_patterns:
                - ^@jupyterlab/(help-extension|inspector-extension|launcher-extension|logconsole-extension|nbconvert-css|pluginmanager-extension|rendermime-extension|statusbar-extension|template)$
              tasks:
                ./app/:
                  - actions:
                      - - yarn
                        - build:prod
                    file_dep:
                      - packages/_metapackage/tsconfig.tsbuildinfo
                      - packages/*/schema/*.json
                      - packages/*/style/**/*.css
                      - packages/*/style/**/*.svg
                      - packages/*/style/**/*.js
                    name: app:build:prod
                    targets:
                      - notebook/static/bundle.js
                ./packages/_metapackage/:
                  - actions:
                      - - yarn
                        - build
                    file_dep:
                      - ../lumino/packages/*/tsconfig.tsbuildinfo
                      - ../jupyterlab/packages/*/tsconfig.tsbuildinfo
                      - packages/*/src/**/*.ts
                      - packages/*/src/**/*.tsx
                    name: meta:build
                    targets:
                      - packages/_metapackage/tsconfig.tsbuildinfo
                      - packages/lab-extension/tsconfig.tsbuildinfo
            name: notebook
            py:
              dependencies:
                - jupyterlab
              file_dep:
                - notebook/static/bundle.js
                - notebook/labextension/static/style.js
              lab_extensions:
                ./packages/lab-extension/:
                  file_dep:
                    - packages/lab-extension/tsconfig.tsbuildinfo
                  targets:
                    - notebook/labextension/package.json
                    - notebook/labextension/static/style.js
              pyproject_tomls:
                - pyproject.toml
        - title: notebook_shim
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: notebook_shim
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/jupyter/notebook_shim
            name: notebook_shim
            py:
              dependencies:
                - jupyter_server
              pyproject_tomls:
                - pyproject.toml
        - title: traitlets
          allOf:
            - type: object
              properties:
                name:
                  type: string
                  const: traitlets
            - $ref: '#/$defs/Repo'
          default:
            github:
              baseline: tree/main
              url: https://github.com/ipython/traitlets
            lite:
              wheel: true
            name: traitlets
            py:
              pyproject_tomls:
                - pyproject.toml
$defs:
  CondaEnv:
    title: CondaEnv
    description: A description of the conda environment for doing work.
    properties:
      conda_channels:
        type: array
        title: conda_channels
        description: the priority-ordered set of conda URLs of channels to get packages
        items:
          type: string
      conda_dependencies:
        type: array
        title: conda_dependencies
        description: the conda-forge-compatible specs for additional packages to install
        items:
          type: string
      nodejs_version:
        type: string
        title: nodejs_version
        description: the major version of nodejs to install
        pattern: ^(20)$
      pypi_deps:
        type: array
        title: pypi_deps
        description: the pypi-compatible specs for additional packages to install
        items:
          type: string
      pypi_to_conda:
        type: object
        title: pypi_to_conda
        description:
          names of PyPI distributions to replace with their conda-forge counterparts
        additionalProperties:
          type: string
          description: a normalized conda-forge name
      python_version:
        type: string
        title: python_version
        description: the major version of python 3 to install
        pattern: ^3\.(8|9|11|10|11|12)$
      variables:
        type: object
        title: variables
        description:
          environment variables to set for all repos when the work environment is
          created
        additionalProperties:
          type: string
      yarn_version:
        type: string
        title: yarn_version
        description: the major version of yarn to install
        pattern: ^3\.\d+
  CustomTarget:
    title: CustomTarget
    description: custom file targets
    properties:
      glob_neighbor:
        type: array
        title: glob_neighbor
        description: a file glob and a relative template for an output file
        items:
          - type: string
            description: a file glob, relative to the repo root
          - type: string
            description: 'a path relative to match: refer to the match stem with {stem}'
  GitHub:
    title: GitHub
    description: Information for how to clone the baseline and PRs for this repo
    properties:
      baseline:
        type: string
        title: baseline
        description: the URL of the baseline HEAD
        pattern: ^(tree/[^s]+|pull/\d+|releases/tag/[^s]+)$
      merge_options:
        type: array
        title: merge_options
        description: extra options for (and requiring) the ``merge_strategy``
        items:
          type: string
      merge_strategy:
        type: string
        title: merge_strategy
        description: a custom `--strategy` to use during `git merge`
      merge_with:
        type: array
        title: merge_with
        description: an optional, ordered list of branches to merge into the `baseline`
        items:
          type: string
          pattern: ^(tree/[^s]+|pull/\d+|releases/tag/[^s]+)$
      url:
        type: string
        title: url
        description: the URL of the repo
        pattern: https://github\.com/.*
  JSOptions:
    title: JSOptions
    description: JavaScript-related provisioning, building, and linking.
    properties:
      dependencies:
        type: array
        title: dependencies
        description:
          the names of other members of `repos` that need to built and linked into this
          repo in the JS environment
        items:
          type: string
      dist_exclude_patterns:
        type: array
        title: dist_exclude_patterns
        description:
          regular expressions for the paths in this repo that should _not_ be built and
          linked in other repos
        items:
          type: string
      install_exclude_resolutions:
        type: array
        title: install_exclude_resolutions
        description:
          regular expressions for the npm `@org/pkg` names that should _not_ be
          installed, ever, in this repo
        items:
          type: string
      link_exclude_patterns:
        type: array
        title: link_exclude_patterns
        description:
          regular expressions for the npm `@org/pkg` names that should _not_ be linked
          into this repo
        items:
          type: string
      tasks:
        type: object
        title: tasks
        description: task templates required to fulfill various js needs
        additionalProperties:
          type: array
          items:
            anyOf:
              - type: string
              - $ref: '#/$defs/Task'
  LabExtension:
    title: LabExtension
    description: A description of the inputs and outputs of "jupyter labextension build"
    properties:
      file_dep:
        type: array
        title: file_dep
        description: paths or globs to files that would trigger a need to rebuild
        items:
          type: string
      targets:
        type: array
        title: targets
        description: canary files that will be generated (usually a package.json)
        items:
          type: string
  LiteOptions:
    title: LiteOptions
    description: options for the final jupyterlite build
    properties:
      gist:
        type: string
        title: gist
        description: a gist ID on GitHub to use as JupyterLite contents and config
  PythonOptions:
    title: PythonOptions
    description: Python-related provisioning, building, and linking.
    properties:
      dependencies:
        type: array
        title: dependencies
        description:
          the names of other members of `repos` that need to built and linked into this
          repo in the Python environment
        items:
          type: string
      file_dep:
        type: array
        title: file_dep
        description:
          files needed (usually created by js tasks) before and editable python install
        items:
          type: string
      lab_extensions:
        type: object
        title: lab_extensions
        description:
          paths with extra file dependencies needed to build an extension in this repo
        additionalProperties:
          $ref: '#/$defs/LabExtension'
      modules:
        type: array
        title: modules
        description: the importable python names provided by this repo
        items:
          type: string
      pyproject_tomls:
        type: array
        title: pyproject_tomls
        description: pyproject.toml files for installable packages
        items:
          type: string
      setup_cfgs:
        type: array
        title: setup_cfgs
        description: legacy setup.cfg files for installable packages
        items:
          type: string
  Repo:
    title: Repo
    description: A description of a repo.
    properties:
      github:
        $ref: '#/$defs/GitHub'
        title: github
      js:
        $ref: '#/$defs/JSOptions'
        title: js
      lite:
        $ref: '#/$defs/RepoLiteOptions'
        title: lite
      name:
        type: string
        title: name
        description:
          the duplicated name from the parent ``repos`` dictionary used for dependencies
      py:
        $ref: '#/$defs/PythonOptions'
        title: py
      variables:
        type: object
        title: variables
        description: repo-specific environment variables to set when building
        additionalProperties:
          type: string
  RepoLiteOptions:
    title: RepoLiteOptions
    properties:
      needs_pth:
        type: array
        title: needs_pth
        description:
          names of packages this repo provides that need to be installed before a lite
          site build
        items:
          type: string
      skip_wheel_patterns:
        type: array
        title: skip_wheel_patterns
        description: paths to skip building wheels
        items:
          type: string
      wheel:
        type: boolean
        title: wheel
        description: whether to build and ship a noarch wheel for pyodide
      wheel_file_dep:
        type: object
        title: wheel_file_dep
        description: extra files needed to build a given wheel
        additionalProperties:
          type: array
          description:
            globs to files that need to be built before the wheel can be built
          items:
            type: string
  Task:
    title: Task
    description: a subset of the doit task definition
    properties:
      actions:
        type: array
        title: actions
        description: shell tokens to provide to
        items:
          type: array
          items:
            type: string
      file_dep:
        type: array
        title: file_dep
        description:
          relative globs for files that, when changed, trigger a need to run this task
        items:
          type: string
      name:
        type: string
        title: name
        description: the name of the task
      needs_pth:
        type: array
        title: needs_pth
        description:
          key of a repo that needs to be installed as a python .pth file before running
          this task
        items:
          type: string
      targets:
        type: array
        title: targets
        description:
          relative globs for files that, when changed, trigger a need to run this task
        items:
          anyOf:
            - type: string
            - $ref: '#/$defs/CustomTarget'
